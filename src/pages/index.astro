---
import BaseLayout from "../layouts/BaseLayout.astro";
import Hero from "../components/landing/Hero.astro";
import Products from "../components/landing/Products.astro";
import { getCollection } from "astro:content";

const products = await getCollection("products");
const filteredProducts = [];

products.map((product, index) => {
  if (index <= 3) {
    filteredProducts.push(product);
  }
});
---

<BaseLayout>
  <Hero />
  <Products products={filteredProducts} />
</BaseLayout>
